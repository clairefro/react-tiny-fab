{"code":"import React, { useState } from 'react';\r\nimport './styles.scss';\r\nconst AB = ({ children, ...p }) => (React.createElement(\"button\", Object.assign({ type: \"button\" }, p, { className: \"rtf--ab\" }), children));\r\nexport const MB = ({ children, ...p }) => (React.createElement(\"button\", Object.assign({ type: \"button\", className: \"rtf--mb\" }, p), children));\r\nconst defaultPosition = { bottom: 24, right: 24 };\r\nconst Fab = ({ event = 'hover', position = defaultPosition, alwaysShowTitle = false, children, icon, mainButtonStyles, onClick, text, }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const ariaHidden = alwaysShowTitle || !isOpen;\r\n    const open = () => setIsOpen(true);\r\n    const close = () => setIsOpen(false);\r\n    const enter = () => event === 'hover' && open();\r\n    const leave = () => event === 'hover' && close();\r\n    const toggle = (e) => {\r\n        if (onClick) {\r\n            return onClick(e);\r\n        }\r\n        e.persist();\r\n        return event === 'click' ? (isOpen ? close() : open()) : null;\r\n    };\r\n    const actionOnClick = (e, userFunc) => {\r\n        e.persist();\r\n        setIsOpen(false);\r\n        setTimeout(() => {\r\n            userFunc(e);\r\n        }, 1);\r\n    };\r\n    const rc = () => React.Children.map(children, (ch, i) => {\r\n        if (React.isValidElement(ch)) {\r\n            return (React.createElement(\"li\", { className: `rtf--ab__c ${'top' in position ? 'top' : ''}` },\r\n                React.cloneElement(ch, {\r\n                    'data-testid': `action-button-${i}`,\r\n                    'aria-label': ch.props.text || `Menu button ${i + 1}`,\r\n                    'aria-hidden': ariaHidden,\r\n                    tabIndex: isOpen ? 0 : -1,\r\n                    ...ch.props,\r\n                    onClick: (e) => {\r\n                        if (ch.props.onClick)\r\n                            actionOnClick(e, ch.props.onClick);\r\n                    },\r\n                }),\r\n                ch.props.text && (React.createElement(\"span\", { className: `${'right' in position ? 'right' : ''} ${alwaysShowTitle ? 'always-show' : ''}`, \"aria-hidden\": ariaHidden }, ch.props.text))));\r\n        }\r\n        return null;\r\n    });\r\n    return (React.createElement(\"ul\", { onMouseEnter: enter, onMouseLeave: leave, className: `rtf ${isOpen ? 'open' : 'closed'}`, \"data-testid\": \"fab\", style: position },\r\n        React.createElement(\"li\", { className: \"rtf--mb__c\" },\r\n            React.createElement(MB, { onClick: toggle, style: mainButtonStyles, \"data-testid\": \"main-button\", role: \"button\", \"aria-label\": \"Floating menu\", tabIndex: 0 }, icon),\r\n            text && (React.createElement(\"span\", { className: `${'right' in position ? 'right' : ''} ${alwaysShowTitle ? 'always-show' : ''}`, \"aria-hidden\": ariaHidden }, text)),\r\n            React.createElement(\"ul\", null, rc()))));\r\n};\r\nexport { Fab, AB as Action };\r\n//# sourceMappingURL=index.js.map","references":["/Users/dericcain/Code/react-tiny-fab-ts/node_modules/@types/react/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/index.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/dericcain/Code/react-tiny-fab-ts/index.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nimport './styles.scss';\r\ninterface ABProps extends React.HTMLAttributes<HTMLButtonElement> {\r\n    text?: string;\r\n    onClick?: (e: React.FormEvent) => void;\r\n    'data-testid'?: string;\r\n}\r\ndeclare const AB: React.FC<ABProps>;\r\ninterface MBProps extends Omit<React.HTMLAttributes<HTMLButtonElement>, 'tabIndex'> {\r\n    tabIndex?: number;\r\n}\r\nexport declare const MB: React.FC<MBProps>;\r\ninterface Position {\r\n    top?: number;\r\n    right?: number;\r\n    bottom?: number;\r\n    left?: number;\r\n}\r\ninterface FabProps {\r\n    event?: 'hover' | 'click';\r\n    position?: Position;\r\n    alwaysShowTitle?: boolean;\r\n    icon?: React.ReactNode;\r\n    mainButtonStyles?: React.CSSProperties;\r\n    onClick?: (e: React.FormEvent) => void;\r\n    text?: string;\r\n    children?: React.ReactNode;\r\n}\r\ndeclare const Fab: React.FC<FabProps>;\r\nexport { Fab, AB as Action };\r\n"}}
